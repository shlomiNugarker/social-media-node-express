"use strict";(self.webpackChunksocial_network_app=self.webpackChunksocial_network_app||[]).push([[506],{7506:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var s=n(1413),r=n(4165),a=n(5861),i=n(9439),o=n(2791),c=n(9434),u=n(262),l=n(3433),d=n(4942),h=n(1363),f=function(e,t){(t=t.current.element).observer&&(t.observer.disconnect(),t.prevWidth=null,t.prevHeight=null,t.observer=null)},m=function(e){var t=window.getComputedStyle(e);e=parseInt(t.height),t="normal"===t.lineHeight?1.2*parseInt(t.fontSize):parseInt(t.lineHeight);return 0===e&&0===t?0:Math.ceil(e/t)},v="css",g=3,p=!0,x=".\u200a.\u200a.",C=function(e,t){var n=(s=t.current).options,s=s.element;"css"!==n.method?"js"===n.method&&(function(e,t){var n,s=(t=t.current).options;t=t.element,e.current.style.display=null,e.current.style.webkitLineClamp=null,e.current.style.webkitBoxOrient=null,e.current.style.overflow=null,e.current.textContent=t.fullText,s.lines<=0||m(e.current)<=s.lines||(n={unprocessed:t.fullText,processed:""},(s.midWord?[". ",", "," ",""]:[". ",", "," "]).forEach((function(t){for(var r=0,a=n.unprocessed.split(t);r<a.length;r++){var i=a[r];if(e.current.textContent=""+n.processed+i+t+s.ellipsis,m(e.current)>s.lines){n.unprocessed=i;break}n.processed=""+n.processed+i+t}})),e.current.textContent=""+n.processed.trim()+s.ellipsis)}(e,t),s.prevWidth=e.current.clientWidth,s.prevHeight=e.current.clientHeight):function(e,t){t=(n=t.current).options;var n=n.element;e.current.textContent=n.fullText,e.current.style.display="-webkit-box",e.current.style.webkitLineClamp=""+t.lines,e.current.style.webkitBoxOrient="vertical",e.current.style.overflow="hidden"}(e,t)},j=function(e,t){var n=(0,o.useRef)({});(0,o.useLayoutEffect)((function(){n.current.options=function(e){var t;return{method:"undefined"!=typeof CSS&&CSS.supports("display","-webkit-box")&&CSS.supports("-webkit-line-clamp","3")&&CSS.supports("-webkit-box-orient","vertical")?null!==(t=null==e?void 0:e.method)&&void 0!==t?t:v:"js",lines:null!==(t=null==e?void 0:e.lines)&&void 0!==t?t:g,midWord:null!==(t=null==e?void 0:e.midWord)&&void 0!==t?t:p,ellipsis:null!==(e=null==e?void 0:e.ellipsis)&&void 0!==e?e:x}}(t)}),[t]),(0,o.useLayoutEffect)((function(){n.current.element={fullText:e.current.textContent}}),[e]),(0,o.useLayoutEffect)((function(){var t="undefined"!=typeof ResizeObserver,s="js"===n.current.options.method,r=!!n.current.element.observer,a=t&&s&&!r;s=t&&!s&&r;return a&&function(e,t){var n=t.current.element,s=n.observer||new ResizeObserver((function(){e.current.clientWidth===n.prevWidth&&e.current.clientHeight===n.prevHeight||C(e,t)}));s.observe(e.current),n.observer=s}(e,n),s&&f(0,n),a||C(e,n),function(){return r&&f(0,n)}}),[e,n.current.options])},N=function(e){var t=e.children,n=e.method,s=e.lines,r=e.midWord,a=(e=e.ellipsis,(0,o.useRef)(null));j(a,{method:n,lines:s,midWord:r,ellipsis:e});return function e(t){return 1<o.Children.count(t)||!(0,o.isValidElement)(t)?o.createElement("div",{ref:a},t):(0,o.isValidElement)(t.props.children)?(0,o.cloneElement)(t,{children:e(t.props.children)}):(0,o.cloneElement)(t,{ref:a})}(t)},w=n(5478),S=n(184);function I(e){var t,n,s,u=e.chat,l=e.chats,d=e.setMessagesToShow,h=e.setChatWith,f=(e.chatWith,e.chooseenChatId),m=e.setChooseenChatId,v=e.getTheNotLoggedUserChat,g=(0,o.useState)(null),p=(0,i.Z)(g,2),x=p[0],C=p[1],j=(0,o.useState)(0),I=(0,i.Z)(j,2),Z=I[0],b=I[1],T=(0,c.v9)((function(e){return e.activityModule})).unreadMessages,y=(null===(t=u.messages[(null===(n=u.messages)||void 0===n?void 0:n.length)-1])||void 0===t?void 0:t.txt)||"No Messages yet..",M=new Date((null===(s=u.messages[0])||void 0===s?void 0:s.createdAt)||u.createdAt),k=M.toLocaleDateString().slice(0,-5),U=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:n=e.sent,C(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){return U(u),function(){var e=0;T.forEach((function(t){u._id===t&&e++})),b(e)}(),function(){}}),[]),(0,o.useEffect)((function(){return d(u.messages),m(u._id),function(){}}),[u,l]);var W=f===u._id?"chooseen-chat":"",_="container ".concat(W);return x?(0,S.jsx)("section",{className:"msg-preview",onClick:function(){d(u.messages),h(x),m(u._id)},children:(0,S.jsxs)("div",{className:_,children:[(0,S.jsxs)("div",{className:"img-container",children:[(0,S.jsx)("img",{src:null===x||void 0===x?void 0:x.imgUrl,alt:"",className:"img"}),Z>0&&(0,S.jsx)("span",{className:"number",children:(0,S.jsx)("p",{children:Z})})]}),(0,S.jsxs)("div",{className:"details",children:[(0,S.jsxs)("div",{className:"fullname",children:[(0,S.jsx)("h1",{children:null===x||void 0===x?void 0:x.fullname}),(0,S.jsx)("span",{title:M,children:(0,S.jsx)(N,{lines:1,method:"css",children:k})})]}),(0,S.jsx)("div",{className:"last-msg",children:(0,S.jsx)(N,{lines:1,method:"css",children:(0,S.jsx)("p",{children:y})})})]})]})}):(0,S.jsx)("div",{className:"msg-preview",children:(0,S.jsx)("span",{className:"loading-circle",children:(0,S.jsx)("img",{src:w,alt:""})})})}function Z(e){var t=e.chats,n=e.setMessagesToShow,s=e.setChatWith,c=e.chatWith,u=e.setChooseenChatId,f=e.chooseenChatId,m=e.getTheNotLoggedUserChat,v=e.setTheNotLoggedUserChat,g=e.theNotLoggedUserChat,p=(0,o.useState)(null),x=(0,i.Z)(p,2),C=x[0],j=x[1],N=(0,o.useState)({txt:""}),w=(0,i.Z)(N,2),Z=w[0],b=w[1],T=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target,s=n.name,a="number"===n.type?+n.value||"":n.value,b((0,d.Z)({},s,a)),y(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var n=new RegExp(e,"i"),s=(0,l.Z)(t).filter((function(e){return n.test(e.users[0])||n.test(e.users[1])}));j(s)};return(0,o.useEffect)((function(){j((0,l.Z)(t))}),[t]),(0,S.jsxs)("section",{className:"list-msg",children:[(0,S.jsxs)("div",{className:"title-container",children:[(0,S.jsx)("p",{children:"Messaging"}),(0,S.jsxs)("div",{className:"logos",children:[(0,S.jsx)("span",{className:"logo-menu",children:(0,S.jsx)(h.G,{className:"dots-icon",icon:"fa-solid fa-ellipsis"})}),(0,S.jsx)("span",{className:"logo-new-msg",children:(0,S.jsx)(h.G,{icon:"fa-solid fa-message"})})]})]}),(0,S.jsx)("div",{className:"filter-container",children:(0,S.jsx)("input",{onChange:T,type:"text",id:"txt",name:"txt",value:Z.txt,placeholder:"Search messages"})}),(0,S.jsx)("div",{className:"list",children:C&&C.map((function(e){return(0,S.jsx)(I,{chat:e,chats:t,setMessagesToShow:n,setChatWith:s,chatWith:c,setChooseenChatId:u,getTheNotLoggedUserChat:m,setTheNotLoggedUserChat:v,theNotLoggedUserChat:g,chooseenChatId:f},e._id)}))})]})}var b=n(8874),T=n(6923),y=n(8931);function M(e){var t=e.msg,n=(0,o.useState)(null),s=(0,i.Z)(n,2),c=s[0],u=s[1],l=(0,y.k6)(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b.W.getById(n);case 4:s=e.sent,u((function(){return s}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){d(t.userId)}),[]),(0,S.jsxs)("section",{className:"thread-msg-preview",children:[(0,S.jsxs)("div",{className:"container-msg",children:[(0,S.jsx)("div",{className:"img-container",onClick:function(){return l.push("/main/profile/".concat(null===c||void 0===c?void 0:c._id))},children:(null===c||void 0===c?void 0:c.imgUrl)&&(0,S.jsx)("img",{src:(null===c||void 0===c?void 0:c.imgUrl)||"",alt:"",className:"img"})||(0,S.jsx)("img",{src:w,className:"img",alt:""})}),(0,S.jsxs)("div",{className:"name-time-container",children:[(0,S.jsx)("div",{className:"fullname",children:(0,S.jsx)("h3",{children:null===c||void 0===c?void 0:c.fullname})}),(0,S.jsx)("div",{className:"time",children:(0,S.jsx)("span",{children:(0,S.jsx)(T.Z,{date:t.createdAt})})})]})]}),(0,S.jsx)("div",{className:"the-msg",children:(0,S.jsx)("p",{children:t.txt})})]})}function k(e){var t=e.messagesToShow;return null!==t&&void 0!==t&&t.length?(0,S.jsx)("section",{className:"thread-msg-list",children:(0,S.jsx)("div",{className:"list",children:t.map((function(e){return(0,S.jsx)(M,{msg:e},e._id)}))})}):(0,S.jsx)("div",{children:"No msgs yet.."})}function U(e){var t=e.onSendMsg,n=e.messagesToShow,c=(0,o.useState)({txt:""}),u=(0,i.Z)(c,2),l=u[0],h=u[1],f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.name,a="number"===t.target.type?+t.target.value||"":t.target.value,h((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,d.Z)({},n,a))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return h({txt:""}),function(){}}),[n]),(0,S.jsxs)("form",{className:"send-msg-container",onSubmit:function(e){e.preventDefault(),t(l.txt),h({txt:""})},children:[(0,S.jsx)("div",{className:"input-container",children:(0,S.jsx)("textarea",{ref:function(e){e&&e.focus()},required:!0,onChange:f,type:"text",placeholder:"Write a message...",id:"txt",name:"txt",value:l.txt})}),(0,S.jsx)("div",{className:"btns-container",children:(0,S.jsx)("button",{children:"Send"})})]})}function W(e){var t=e.messagesToShow,n=e.setMessagesToShow,s=e.chatWith,r=e.onSendMsg,a=(0,y.k6)();(0,o.useEffect)((function(){return i(),function(){}}),[t]);var i=function(){var e=document.querySelector(".user-profile-details");e.scrollTop=e.scrollHeight};return(0,S.jsxs)("section",{className:"message-thread",children:[(0,S.jsxs)("header",{className:"header-message-thread",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"img-profile",onClick:function(){return a.push("/main/profile/".concat(null===s||void 0===s?void 0:s._id))},children:(0,S.jsx)("img",{src:null===s||void 0===s?void 0:s.imgUrl,alt:"",className:"img"})}),(0,S.jsx)("div",{className:"fullname",children:null===s||void 0===s?void 0:s.fullname})]}),(0,S.jsx)("div",{className:"container-logo",children:(0,S.jsx)("span",{className:"logo-menu",children:(0,S.jsx)(h.G,{icon:"fa-solid fa-x",className:"dots-icon",onClick:function(){n(null)}})})})]}),(0,S.jsx)("div",{className:"user-profile-details scroll-area",children:(0,S.jsx)(k,{messagesToShow:t})}),(0,S.jsx)(U,{onSendMsg:r,messagesToShow:t})]})}function _(e){var t=e.chats,n=e.chatWith,s=e.messagesToShow,r=e.setMessagesToShow,a=e.chooseenChatId,i=e.setChooseenChatId,o=e.setChatWith,c=e.getTheNotLoggedUserChat,u=e.setTheNotLoggedUserChat,l=e.theNotLoggedUserChat,d=e.onSendMsg;return(0,S.jsx)("section",{className:"messaging",children:(0,S.jsxs)("div",{className:"container",children:[(0,S.jsx)(Z,{chats:t,setMessagesToShow:r,setChatWith:o,chatWith:n,setChooseenChatId:i,chooseenChatId:a,getTheNotLoggedUserChat:c,setTheNotLoggedUserChat:u,theNotLoggedUserChat:l}),s&&(0,S.jsx)(W,{messagesToShow:s,chatWith:n,onSendMsg:d,setMessagesToShow:r})]})})}var L=n(9247),E=n(6581),O=n(6695),D=n(9722),A=n(4029);function H(e,t,n){var u=(0,c.I0)(),l=(0,o.useState)(void 0),d=(0,i.Z)(l,2),h=d[0],f=d[1],m=(0,o.useState)(null),v=(0,i.Z)(m,2),g=v[0],p=v[1],x=(0,o.useState)(null),C=(0,i.Z)(x,2),j=C[0],N=C[1],w=(0,o.useState)(!1),S=(0,i.Z)(w,2),I=S[0],Z=S[1],T=(0,o.useState)(null),y=(0,i.Z)(T,2),M=y[0],k=y[1],U=(0,o.useState)(null),W=(0,i.Z)(U,2),_=W[0],D=W[1],A=function(e){return t.find((function(t){return t.userId===e||t.userId2===e}))},H=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&e){t.next=2;break}return t.abrupt("return",null);case 2:return e._id!==n.userId?s=n.userId:e._id!==n.userId2&&(s=n.userId2),t.next=5,b.W.getById(s);case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0=null;case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=null;case 5:n=e.t0,k(n),D(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var s=(0,a.Z)((0,r.Z)().mark((function s(){var a,i;return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!0!==h){s.next=8;break}return a=A(n.userId),s.next=4,P(a);case 4:N(a._id),p(a.messages),s.next=18;break;case 8:if(!1!==h){s.next=18;break}if(n.userId&&t){s.next=11;break}return s.abrupt("return");case 11:return r=n.userId,i={_id:E.Y.makeId(7),userId:r,userId2:null===e||void 0===e?void 0:e._id,messages:[],createdAt:(new Date).getTime()},u((0,L.dF)(i)),Z(!0),s.next=16,P(i);case 16:N(i._id),p(i.messages);case 18:case"end":return s.stop()}var r}),s)})));return function(){return s.apply(this,arguments)}}();return{isUserChatExist:h,setIsUserChatExist:f,messagesToShow:g,setMessagesToShow:p,chooseenChatId:j,setChooseenChatId:N,theNotLoggedUserChat:M,setTheNotLoggedUserChat:k,chatWith:_,setChatWith:D,checkIfChatExist:function(){return new Promise((function(e,s){if(!t)return s(!1);var r=t.some((function(e){return e.userId===n.userId||e.userId2===n.userId}));r?e(r):s(r)}))},openChat:R,onSendMsg:function(n){var r=function(t){return{_id:E.Y.makeId(24),txt:t,userId:e._id,createdAt:(new Date).getTime()}}(n),a=t.findIndex((function(e){return e._id===j})),i=(0,s.Z)({},t[a]);i.messages.push(r),i.users=[null===e||void 0===e?void 0:e.fullname,null===M||void 0===M?void 0:M.fullname],I&&(u((0,L.cy)(i._id)),delete i._id),Z(!1),u((0,L.l_)(i)).then((function(t){if(p(t.messages),t){var n={type:"private-message",createdBy:null===e||void 0===e?void 0:e._id,createdTo:e._id===t.userId?t.userId2:t.userId,chatId:t._id};u((0,O.d_)(n))}}))},getTheNotLoggedUserChat:H}}var P=function(){var e=(0,c.I0)(),t=(0,y.UO)(),n=(0,c.v9)((function(e){return e.userModule})).loggedInUser,i=(0,c.v9)((function(e){return e.chatModule})).chats,l=H(n,i,t),d=l.isUserChatExist,h=l.setIsUserChatExist,f=l.messagesToShow,m=l.setMessagesToShow,v=l.chooseenChatId,g=l.setChooseenChatId,p=l.theNotLoggedUserChat,x=l.setTheNotLoggedUserChat,C=l.chatWith,j=l.setChatWith,N=l.checkIfChatExist,w=l.openChat,I=l.onSendMsg,Z=l.getTheNotLoggedUserChat;(0,o.useEffect)((function(){e((0,u.rd)("message"));var s=null===n||void 0===n?void 0:n._id;s&&e((0,L.Ir)(s)).then((function(){N().then((function(e){t.userId!==n._id&&(h(e),w())})).catch((function(e){t.userId!==n._id&&(h(e),w())}))}))}),[n,t.userId,d]),(0,o.useEffect)((function(){return(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:e((0,O.T7)());case 3:case"end":return t.stop()}}),t)})))}),[]);var b=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(new Date).getTime(),t.next=3,e((0,A.Nq)((0,s.Z)((0,s.Z)({},n),{},{lastSeenMsgs:a})));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i?(0,S.jsxs)("section",{className:"message-page",children:[(0,S.jsx)(_,{chats:i,messagesToShow:f,setMessagesToShow:m,chooseenChatId:v,setChooseenChatId:g,chatWith:C,setChatWith:j,getTheNotLoggedUserChat:Z,setTheNotLoggedUserChat:x,theNotLoggedUserChat:p,onSendMsg:I}),(0,S.jsx)("div",{className:"right-side-message",children:(0,S.jsx)("p",{children:"This ad could be yours"})})]}):(0,S.jsx)("div",{className:"message-page",children:(0,S.jsx)("div",{className:"gif-container",children:(0,S.jsx)("img",{className:"loading-gif",src:D,alt:""})})})}},6581:function(e,t,n){n.d(t,{Y:function(){return s}});var s={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},debounce:function(e,t){var n;return function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];var i=function(){clearTimeout(n),e.apply(void 0,r)};clearTimeout(n),n=setTimeout(i,t)}},getRandomInt:r,getRandomColor:function(){for(var e="#",t=0;t<6;t++)e+=Math.floor(10*Math.random());return e},getLoremIpsum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=["The sky","above","the port","was","the color of television","tuned","to","a dead channel",".","All","this happened","more or less",".","I","had","the story","bit by bit","from various people","and","as generally","happens","in such cases","each time","it","was","a different story",".","It","was","a pleasure","to","burn"],n="";for(;e>0;)n+=t[r(0,t.length-1)]+" ",e--;return(n+=".").trim()},loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},saveToStorage:function(e,t){localStorage[e]=JSON.stringify(t)},loadFromSessionStorage:function(e){var t=sessionStorage.getItem(e);return t?JSON.parse(t):null},saveToSessionStorage:function(e,t){sessionStorage[e]=JSON.stringify(t)},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(t){setTimeout(t,e)}))}};function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}},6923:function(e,t,n){n.d(t,{Z:function(){return N}});var s=n(1413),r=n(9439),a=n(5987),i=n(2791),o=n(3433),c=n(3878),u=n(9199),l=n(181),d=n(5267);function h(e){var t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;var n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;var s,r=n.map((function(e){return parseInt(e)})),a=(s=r,(0,c.Z)(s)||(0,u.Z)(s)||(0,l.Z)(s)||(0,d.Z)()),i=a[0],h=a[1],f=a.slice(2),m=[i,h-1].concat((0,o.Z)(f));return new Date(Date.UTC.apply(Date,(0,o.Z)(m)))}function f(e,t,n){return e+" "+(1!==e?t+"s":t)+" "+n}var m=["date","formatter","component","live","minPeriod","maxPeriod","title","now"];function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},v.apply(this,arguments)}var g=3600,p=86400,x=7*p,C=30*p,j=365*p;function N(e){var t=e.date,n=e.formatter,o=void 0===n?f:n,c=e.component,u=void 0===c?"time":c,l=e.live,d=void 0===l||l,N=e.minPeriod,w=void 0===N?0:N,S=e.maxPeriod,I=void 0===S?x:S,Z=e.title,b=e.now,T=void 0===b?function(){return Date.now()}:b,y=(0,a.Z)(e,m),M=(0,i.useState)(T()),k=(0,r.Z)(M,2),U=k[0],W=k[1];(0,i.useEffect)((function(){if(d){var e=function(){var e=h(t).valueOf();if(!e)return console.warn("[react-timeago] Invalid Date provided"),0;var n=Math.round(Math.abs(U-e)/1e3),s=n<60?1e3:n<g?6e4:n<p?36e5:6048e5,r=Math.min(Math.max(s,1e3*w),1e3*I);return r?setTimeout((function(){W(T())}),r):0}();return function(){e&&clearTimeout(e)}}}),[t,d,I,w,T,U]);var _=u,L=h(t).valueOf();if(!L)return null;var E=Math.round(Math.abs(U-L)/1e3),O=L<U?"ago":"from now",D=E<60?[Math.round(E),"second"]:E<g?[Math.round(E/60),"minute"]:E<p?[Math.round(E/g),"hour"]:E<x?[Math.round(E/p),"day"]:E<C?[Math.round(E/x),"week"]:E<j?[Math.round(E/C),"month"]:[Math.round(E/j),"year"],A=(0,r.Z)(D,2),H=A[0],P=A[1],R="undefined"===typeof Z?"string"===typeof t?t:h(t).toISOString().substr(0,16).replace("T"," "):Z,B="time"===_?(0,s.Z)((0,s.Z)({},y),{},{dateTime:h(t).toISOString()}):y,J=f.bind(null,H,P,O);return i.createElement(_,v({},B,{title:R}),o(H,P,O,L,J,T))}},5478:function(e,t,n){e.exports=n.p+"static/media/loading-circle.b8e847dbc0e0c5799a06.gif"}}]);
//# sourceMappingURL=506.6eb9b3b6.chunk.js.map