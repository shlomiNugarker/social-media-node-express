{"version":3,"file":"static/js/506.6eb9b3b6.chunk.js","mappings":"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","sources":["../node_modules/@strg/react-snip/dist/index.es.js","cmps/message/MsgPreview.jsx","cmps/message/ListMsg.jsx","cmps/message/ThreadMsgPreview.jsx","cmps/message/ThreadMsgList.jsx","cmps/message/SendMessageForm.jsx","cmps/message/MessageThread.jsx","cmps/message/Messaging.jsx","pages/Message.jsx","services/utilService.js","../node_modules/react-timeago/es6/dateParser.js","../node_modules/@babel/runtime/helpers/esm/toArray.js","../node_modules/react-timeago/es6/defaultFormatter.js","../node_modules/react-timeago/es6/index.js"],"sourcesContent":["import React,{useRef as useRef,useLayoutEffect as useLayoutEffect,Children as Children,isValidElement as isValidElement,cloneElement as cloneElement}from\"react\";var snipTextCSS=function(e,t){var n=t.current,t=n.options,n=n.element;e.current.textContent=n.fullText,e.current.style.display=\"-webkit-box\",e.current.style.webkitLineClamp=\"\"+t.lines,e.current.style.webkitBoxOrient=\"vertical\",e.current.style.overflow=\"hidden\"},addObserver=function(e,t){var n=t.current.element,r=n.observer||new ResizeObserver(function(){e.current.clientWidth===n.prevWidth&&e.current.clientHeight===n.prevHeight||snipText(e,t)});r.observe(e.current),n.observer=r},destroyObserver=function(e,t){t=t.current.element;t.observer&&(t.observer.disconnect(),t.prevWidth=null,t.prevHeight=null,t.observer=null)},UA_LINE_HEIGHT=1.2,elementLines=function(e){var t=window.getComputedStyle(e),e=parseInt(t.height),t=\"normal\"===t.lineHeight?parseInt(t.fontSize)*UA_LINE_HEIGHT:parseInt(t.lineHeight);return 0===e&&0===t?0:Math.ceil(e/t)},defaultOptions={method:\"css\",lines:3,midWord:!0,ellipsis:\". . .\"},supportsWebkitClamp=function(){return\"undefined\"!=typeof CSS&&CSS.supports(\"display\",\"-webkit-box\")&&CSS.supports(\"-webkit-line-clamp\",\"3\")&&CSS.supports(\"-webkit-box-orient\",\"vertical\")},getOptions=function(e){var t;return{method:supportsWebkitClamp()?null!==(t=null==e?void 0:e.method)&&void 0!==t?t:defaultOptions.method:\"js\",lines:null!==(t=null==e?void 0:e.lines)&&void 0!==t?t:defaultOptions.lines,midWord:null!==(t=null==e?void 0:e.midWord)&&void 0!==t?t:defaultOptions.midWord,ellipsis:null!==(e=null==e?void 0:e.ellipsis)&&void 0!==e?e:defaultOptions.ellipsis}},snipTextJS=function(i,e){var s,e=e.current,l=e.options,e=e.element;i.current.style.display=null,i.current.style.webkitLineClamp=null,i.current.style.webkitBoxOrient=null,i.current.style.overflow=null,i.current.textContent=e.fullText,l.lines<=0||elementLines(i.current)<=l.lines||(s={unprocessed:e.fullText,processed:\"\"},(l.midWord?[\". \",\", \",\" \",\"\"]:[\". \",\", \",\" \"]).forEach(function(e){for(var t=0,n=s.unprocessed.split(e);t<n.length;t++){var r=n[t];if(i.current.textContent=\"\"+s.processed+r+e+l.ellipsis,elementLines(i.current)>l.lines){s.unprocessed=r;break}s.processed=\"\"+s.processed+r+e}}),i.current.textContent=\"\"+s.processed.trim()+l.ellipsis)},snipText=function(e,t){var n=t.current,r=n.options,n=n.element;\"css\"!==r.method?\"js\"===r.method&&(snipTextJS(e,t),n.prevWidth=e.current.clientWidth,n.prevHeight=e.current.clientHeight):snipTextCSS(e,t)},useSnip=function(i,e){var s=useRef({});useLayoutEffect(function(){s.current.options=getOptions(e)},[e]),useLayoutEffect(function(){s.current.element={fullText:i.current.textContent}},[i]),useLayoutEffect(function(){var e=\"undefined\"!=typeof ResizeObserver,t=\"js\"===s.current.options.method,n=!!s.current.element.observer,r=e&&t&&!n,t=e&&!t&&n;return r&&addObserver(i,s),t&&destroyObserver(i,s),r||snipText(i,s),function(){return n&&destroyObserver(i,s)}},[i,s.current.options])},ReactSnip=function(e){var t=e.children,n=e.method,r=e.lines,i=e.midWord,e=e.ellipsis,s=useRef(null);useSnip(s,{method:n,lines:r,midWord:i,ellipsis:e});var l=function(e){return 1<Children.count(e)||!isValidElement(e)?React.createElement(\"div\",{ref:s},e):isValidElement(e.props.children)?cloneElement(e,{children:l(e.props.children)}):cloneElement(e,{ref:s})};return l(t)};export{ReactSnip as ReactSnip};\n","import { useSelector } from 'react-redux'\r\nimport { ReactSnip } from '@strg/react-snip'\r\nimport { useEffect, useState } from 'react'\r\nimport loadingGif from '../../assets/imgs/loading-circle.gif'\r\n\r\nexport function MsgPreview({\r\n  chat,\r\n  chats,\r\n  setMessagesToShow,\r\n  setChatWith,\r\n  chatWith,\r\n  chooseenChatId,\r\n  setChooseenChatId,\r\n  getTheNotLoggedUserChat,\r\n}) {\r\n  const [theNotLoggedUserChat, setTheNotLoggedUserChat] = useState(null)\r\n  const [unreadMsgsCount, setUnreadMsgsCount] = useState(0)\r\n\r\n  const { unreadMessages } = useSelector((state) => state.activityModule)\r\n\r\n  const getUnreadCountMsgs = () => {\r\n    let countMsgs = 0\r\n    unreadMessages.forEach((chatId) => {\r\n      if (chat._id === chatId) countMsgs++\r\n    })\r\n    setUnreadMsgsCount(countMsgs)\r\n  }\r\n\r\n  const lastMsg =\r\n    chat.messages[chat.messages?.length - 1]?.txt || 'No Messages yet..'\r\n  const dateToShow = new Date(chat.messages[0]?.createdAt || chat.createdAt)\r\n  const slicedDate = dateToShow.toLocaleDateString().slice(0, -5)\r\n\r\n  const loadNotLoggedUser = async (chat) => {\r\n    const user = await getTheNotLoggedUserChat(chat)\r\n    setTheNotLoggedUserChat(user)\r\n  }\r\n\r\n  const onClickChat = () => {\r\n    setMessagesToShow(chat.messages)\r\n    setChatWith(theNotLoggedUserChat)\r\n    setChooseenChatId(chat._id)\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadNotLoggedUser(chat)\r\n    getUnreadCountMsgs()\r\n    return () => {}\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setMessagesToShow(chat.messages)\r\n    setChooseenChatId(chat._id)\r\n    return () => {}\r\n  }, [chat, chats])\r\n\r\n  const isChatChooseen = chooseenChatId === chat._id ? 'chooseen-chat' : ''\r\n  const containerStyle = `container ${isChatChooseen}`\r\n\r\n  if (!theNotLoggedUserChat)\r\n    return (\r\n      <div className=\"msg-preview\">\r\n        <span className=\"loading-circle\">\r\n          <img src={loadingGif} alt=\"\" />\r\n        </span>\r\n      </div>\r\n    )\r\n\r\n  return (\r\n    <section className=\"msg-preview\" onClick={onClickChat}>\r\n      <div className={containerStyle}>\r\n        <div className=\"img-container\">\r\n          <img src={theNotLoggedUserChat?.imgUrl} alt=\"\" className=\"img\" />\r\n          {unreadMsgsCount > 0 && (\r\n            <span className=\"number\">\r\n              <p>{unreadMsgsCount}</p>\r\n            </span>\r\n          )}\r\n        </div>\r\n        <div className=\"details\">\r\n          <div className=\"fullname\">\r\n            <h1>{theNotLoggedUserChat?.fullname}</h1>\r\n\r\n            <span title={dateToShow}>\r\n              <ReactSnip lines={1} method={'css'}>\r\n                {slicedDate}\r\n              </ReactSnip>\r\n            </span>\r\n          </div>\r\n          <div className=\"last-msg\">\r\n            <ReactSnip lines={1} method={'css'}>\r\n              <p>{lastMsg}</p>\r\n            </ReactSnip>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { useEffect, useState } from 'react'\r\nimport { MsgPreview } from './MsgPreview'\r\n\r\nexport function ListMsg({\r\n  chats,\r\n  setMessagesToShow,\r\n  setChatWith,\r\n  chatWith,\r\n  setChooseenChatId,\r\n  chooseenChatId,\r\n  getTheNotLoggedUserChat,\r\n  setTheNotLoggedUserChat,\r\n  theNotLoggedUserChat,\r\n}) {\r\n  const [chatsToShow, setChatsToShow] = useState(null)\r\n\r\n  const [field, setField] = useState({ txt: '' })\r\n\r\n  const handleChange = async ({ target }) => {\r\n    const field = target.name\r\n    let value = target.type === 'number' ? +target.value || '' : target.value\r\n    setField({ [field]: value })\r\n    setFilter(value)\r\n  }\r\n\r\n  const setFilter = (txt) => {\r\n    const regex = new RegExp(txt, 'i')\r\n    const filteredChats = [...chats].filter((chat) => {\r\n      return regex.test(chat.users[0]) || regex.test(chat.users[1])\r\n    })\r\n\r\n    setChatsToShow(filteredChats)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setChatsToShow([...chats])\r\n  }, [chats])\r\n\r\n  return (\r\n    <section className=\"list-msg\">\r\n      <div className=\"title-container\">\r\n        <p>Messaging</p>\r\n\r\n        <div className=\"logos\">\r\n          <span className=\"logo-menu\">\r\n            <FontAwesomeIcon\r\n              className=\"dots-icon\"\r\n              icon=\"fa-solid fa-ellipsis\"\r\n            />\r\n          </span>\r\n          <span className=\"logo-new-msg\">\r\n            <FontAwesomeIcon icon=\"fa-solid fa-message\" />\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"filter-container\">\r\n        <input\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          id=\"txt\"\r\n          name=\"txt\"\r\n          value={field.txt}\r\n          placeholder=\"Search messages\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"list\">\r\n        {chatsToShow &&\r\n          chatsToShow.map((chat) => (\r\n            <MsgPreview\r\n              key={chat._id}\r\n              chat={chat}\r\n              chats={chats}\r\n              setMessagesToShow={setMessagesToShow}\r\n              setChatWith={setChatWith}\r\n              chatWith={chatWith}\r\n              setChooseenChatId={setChooseenChatId}\r\n              getTheNotLoggedUserChat={getTheNotLoggedUserChat}\r\n              setTheNotLoggedUserChat={setTheNotLoggedUserChat}\r\n              theNotLoggedUserChat={theNotLoggedUserChat}\r\n              chooseenChatId={chooseenChatId}\r\n            />\r\n          ))}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { userService } from '../../services/user/userService'\r\nimport TimeAgo from 'react-timeago'\r\nimport { useHistory } from 'react-router-dom'\r\nimport loadingCircle from '../../assets/imgs/loading-circle.gif'\r\n\r\nexport function ThreadMsgPreview({ msg }) {\r\n  const [userMsg, setUserMsg] = useState(null)\r\n  const history = useHistory()\r\n\r\n  const loadUserMsg = async (id) => {\r\n    if (!msg) return\r\n    const user = await userService.getById(id)\r\n    setUserMsg(() => user)\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadUserMsg(msg.userId)\r\n  }, [])\r\n\r\n  return (\r\n    <section className=\"thread-msg-preview\">\r\n      <div className=\"container-msg\">\r\n        <div\r\n          className=\"img-container\"\r\n          onClick={() => history.push(`/main/profile/${userMsg?._id}`)}\r\n        >\r\n          {(userMsg?.imgUrl && (\r\n            <img src={userMsg?.imgUrl || ''} alt=\"\" className=\"img\" />\r\n          )) || <img src={loadingCircle} className=\"img\" alt=\"\" />}\r\n        </div>\r\n\r\n        <div className=\"name-time-container\">\r\n          <div className=\"fullname\">\r\n            <h3>{userMsg?.fullname}</h3>\r\n          </div>\r\n          <div className=\"time\">\r\n            <span>\r\n              <TimeAgo date={msg.createdAt} />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"the-msg\">\r\n        <p>{msg.txt}</p>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n","import { ThreadMsgPreview } from './ThreadMsgPreview'\r\n\r\nexport function ThreadMsgList({ messagesToShow }) {\r\n  if (!messagesToShow?.length) return <div>No msgs yet..</div>\r\n\r\n  return (\r\n    <section className=\"thread-msg-list\">\r\n      <div className=\"list\">\r\n        {messagesToShow.map((msg) => (\r\n          <ThreadMsgPreview key={msg._id} msg={msg} />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nexport function SendMessageForm({ onSendMsg, messagesToShow }) {\r\n  const [newMsg, setNewMsg] = useState({\r\n    txt: '',\r\n  })\r\n  const handleChange = async (e) => {\r\n    const field = e.target.name\r\n    let value =\r\n      e.target.type === 'number' ? +e.target.value || '' : e.target.value\r\n    setNewMsg((prevCred) => ({ ...prevCred, [field]: value }))\r\n  }\r\n\r\n  const doSubmit = () => {\r\n    onSendMsg(newMsg.txt)\r\n    setNewMsg({ txt: '' })\r\n  }\r\n\r\n  const inputRef = (elInput) => {\r\n    if (elInput) elInput.focus()\r\n  }\r\n\r\n  useEffect(() => {\r\n    setNewMsg({ txt: '' })\r\n    return () => {}\r\n  }, [messagesToShow])\r\n\r\n  return (\r\n    <form\r\n      className=\"send-msg-container\"\r\n      onSubmit={(ev) => {\r\n        ev.preventDefault()\r\n        doSubmit()\r\n      }}\r\n    >\r\n      <div className=\"input-container\">\r\n        <textarea\r\n          ref={inputRef}\r\n          required\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          placeholder=\"Write a message...\"\r\n          id=\"txt\"\r\n          name=\"txt\"\r\n          value={newMsg.txt}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"btns-container\">\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { ThreadMsgList } from './ThreadMsgList'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useEffect } from 'react'\r\nimport { SendMessageForm } from './SendMessageForm'\r\n\r\nexport function MessageThread({\r\n  messagesToShow,\r\n  setMessagesToShow,\r\n  chatWith,\r\n  onSendMsg,\r\n}) {\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    scrollToBottom()\r\n    return () => {}\r\n  }, [messagesToShow])\r\n\r\n  const scrollToBottom = () => {\r\n    var msgsContainer = document.querySelector('.user-profile-details')\r\n    msgsContainer.scrollTop = msgsContainer.scrollHeight\r\n  }\r\n\r\n  return (\r\n    <section className=\"message-thread\">\r\n      <header className=\"header-message-thread\">\r\n        <div>\r\n          <div\r\n            className=\"img-profile\"\r\n            onClick={() => history.push(`/main/profile/${chatWith?._id}`)}\r\n          >\r\n            <img src={chatWith?.imgUrl} alt=\"\" className=\"img\" />\r\n          </div>\r\n          <div className=\"fullname\">{chatWith?.fullname}</div>\r\n        </div>\r\n        <div className=\"container-logo\">\r\n          <span className=\"logo-menu\">\r\n            <FontAwesomeIcon\r\n              icon=\"fa-solid fa-x\"\r\n              className=\"dots-icon\"\r\n              onClick={() => {\r\n                setMessagesToShow(null)\r\n              }}\r\n            />\r\n          </span>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"user-profile-details scroll-area\">\r\n        <ThreadMsgList messagesToShow={messagesToShow} />\r\n      </div>\r\n\r\n      <SendMessageForm onSendMsg={onSendMsg} messagesToShow={messagesToShow} />\r\n    </section>\r\n  )\r\n}\r\n","import { ListMsg } from './ListMsg'\r\nimport { MessageThread } from './MessageThread'\r\n\r\nexport function Messaging({\r\n  chats,\r\n  chatWith,\r\n  messagesToShow,\r\n  setMessagesToShow,\r\n  chooseenChatId,\r\n  setChooseenChatId,\r\n  setChatWith,\r\n  getTheNotLoggedUserChat,\r\n  setTheNotLoggedUserChat,\r\n  theNotLoggedUserChat,\r\n  onSendMsg,\r\n}) {\r\n  return (\r\n    <section className=\"messaging\">\r\n      <div className=\"container\">\r\n        <ListMsg\r\n          chats={chats}\r\n          setMessagesToShow={setMessagesToShow}\r\n          setChatWith={setChatWith}\r\n          chatWith={chatWith}\r\n          setChooseenChatId={setChooseenChatId}\r\n          chooseenChatId={chooseenChatId}\r\n          getTheNotLoggedUserChat={getTheNotLoggedUserChat}\r\n          setTheNotLoggedUserChat={setTheNotLoggedUserChat}\r\n          theNotLoggedUserChat={theNotLoggedUserChat}\r\n        />\r\n        {messagesToShow && (\r\n          <MessageThread\r\n            messagesToShow={messagesToShow}\r\n            chatWith={chatWith}\r\n            onSendMsg={onSendMsg}\r\n            setMessagesToShow={setMessagesToShow}\r\n          />\r\n        )}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setCurrPage } from '../store/actions/postActions'\r\nimport { Messaging } from '../cmps/message/Messaging'\r\nimport {\r\n  addTempChat,\r\n  removeTempChat,\r\n  loadChats,\r\n  saveChat,\r\n} from '../store/actions/chatActions'\r\nimport { useParams } from 'react-router-dom'\r\nimport { userService } from '../services/user/userService'\r\nimport { utilService } from '../services/utilService'\r\nimport {\r\n  saveActivity,\r\n  setUnreadActivitiesIds,\r\n} from '../store/actions/activityAction'\r\nimport loadingGif from '../assets/imgs/loading-gif.gif'\r\nimport { updateUser } from '../store/actions/userActions'\r\n\r\n// Custom hook to manage chat-related functionality\r\nfunction useChat(loggedInUser, chats, params) {\r\n  const dispatch = useDispatch()\r\n  const [isUserChatExist, setIsUserChatExist] = useState(undefined)\r\n  const [messagesToShow, setMessagesToShow] = useState(null)\r\n  const [chooseenChatId, setChooseenChatId] = useState(null)\r\n  const [isNewChat, setIsNewChat] = useState(false)\r\n  const [theNotLoggedUserChat, setTheNotLoggedUserChat] = useState(null)\r\n  const [chatWith, setChatWith] = useState(null)\r\n\r\n  // Check if chat exists with the user from URL params\r\n  const checkIfChatExist = () => {\r\n    return new Promise((resolve, reject) => {\r\n      if (!chats) return reject(false)\r\n      \r\n      const isChatExist = chats.some(chat => \r\n        chat.userId === params.userId || chat.userId2 === params.userId\r\n      )\r\n      \r\n      if (isChatExist) resolve(isChatExist)\r\n      else reject(isChatExist)\r\n    })\r\n  }\r\n\r\n  // Find chat by user ID\r\n  const findChat = (userId) => {\r\n    return chats.find(chat => \r\n      chat.userId === userId || chat.userId2 === userId\r\n    )\r\n  }\r\n\r\n  // Get the user that is not the logged-in user from the chat\r\n  const getTheNotLoggedUserChat = async (chat) => {\r\n    if (!chat || !loggedInUser) return null\r\n    \r\n    let userId\r\n    if (loggedInUser._id !== chat.userId) userId = chat.userId\r\n    else if (loggedInUser._id !== chat.userId2) userId = chat.userId2\r\n    \r\n    return await userService.getById(userId) || null\r\n  }\r\n\r\n  // Create a new chat object\r\n  const createChat = (userId) => {\r\n    return {\r\n      _id: utilService.makeId(7),\r\n      userId,\r\n      userId2: loggedInUser?._id,\r\n      messages: [],\r\n      createdAt: new Date().getTime(),\r\n    }\r\n  }\r\n\r\n  // Create a new message object\r\n  const createNewMsg = (txt) => {\r\n    return {\r\n      _id: utilService.makeId(24),\r\n      txt,\r\n      userId: loggedInUser._id,\r\n      createdAt: new Date().getTime(),\r\n    }\r\n  }\r\n\r\n  // Load the non-logged-in user's data\r\n  const loadNotLoggedUser = async (chat) => {\r\n    const user = await getTheNotLoggedUserChat(chat) || null\r\n    setTheNotLoggedUserChat(user)\r\n    setChatWith(user)\r\n  }\r\n\r\n  // Open or create a chat\r\n  const openChat = async () => {\r\n    if (isUserChatExist === true) {\r\n      const chatToShow = findChat(params.userId)\r\n      await loadNotLoggedUser(chatToShow)\r\n      setChooseenChatId(chatToShow._id)\r\n      setMessagesToShow(chatToShow.messages)\r\n    } else if (isUserChatExist === false) {\r\n      if (!params.userId || !chats) return\r\n      const newChat = createChat(params.userId)\r\n      dispatch(addTempChat(newChat))\r\n      setIsNewChat(true)\r\n      await loadNotLoggedUser(newChat)\r\n      setChooseenChatId(newChat._id)\r\n      setMessagesToShow(newChat.messages)\r\n    }\r\n  }\r\n\r\n  // Handle sending a message\r\n  const onSendMsg = (txt) => {\r\n    const newMsg = createNewMsg(txt)\r\n    const chatIdx = chats.findIndex((chat) => chat._id === chooseenChatId)\r\n    const chatToUpdate = { ...chats[chatIdx] }\r\n    \r\n    chatToUpdate.messages.push(newMsg)\r\n    chatToUpdate.users = [\r\n      loggedInUser?.fullname,\r\n      theNotLoggedUserChat?.fullname,\r\n    ]\r\n    \r\n    if (isNewChat) {\r\n      dispatch(removeTempChat(chatToUpdate._id))\r\n      delete chatToUpdate._id\r\n    }\r\n    \r\n    setIsNewChat(false)\r\n\r\n    dispatch(saveChat(chatToUpdate)).then((savedChat) => {\r\n      setMessagesToShow(savedChat.messages)\r\n      if (savedChat) {\r\n        const newActivity = {\r\n          type: 'private-message',\r\n          createdBy: loggedInUser?._id,\r\n          createdTo: loggedInUser._id === savedChat.userId\r\n            ? savedChat.userId2\r\n            : savedChat.userId,\r\n          chatId: savedChat._id,\r\n        }\r\n        dispatch(saveActivity(newActivity))\r\n      }\r\n    })\r\n  }\r\n\r\n  return {\r\n    isUserChatExist,\r\n    setIsUserChatExist,\r\n    messagesToShow,\r\n    setMessagesToShow,\r\n    chooseenChatId,\r\n    setChooseenChatId,\r\n    theNotLoggedUserChat,\r\n    setTheNotLoggedUserChat,\r\n    chatWith,\r\n    setChatWith,\r\n    checkIfChatExist,\r\n    openChat,\r\n    onSendMsg,\r\n    getTheNotLoggedUserChat\r\n  }\r\n}\r\n\r\nfunction Message() {\r\n  const dispatch = useDispatch()\r\n\r\n  const params = useParams()\r\n\r\n  const { loggedInUser } = useSelector((state) => state.userModule)\r\n  const { chats } = useSelector((state) => state.chatModule)\r\n\r\n  const {\r\n    isUserChatExist,\r\n    setIsUserChatExist,\r\n    messagesToShow,\r\n    setMessagesToShow,\r\n    chooseenChatId,\r\n    setChooseenChatId,\r\n    theNotLoggedUserChat,\r\n    setTheNotLoggedUserChat,\r\n    chatWith,\r\n    setChatWith,\r\n    checkIfChatExist,\r\n    openChat,\r\n    onSendMsg,\r\n    getTheNotLoggedUserChat\r\n  } = useChat(loggedInUser, chats, params)\r\n\r\n  useEffect(() => {\r\n    dispatch(setCurrPage('message'))\r\n    const userId = loggedInUser?._id\r\n    if (!userId) return\r\n    \r\n    dispatch(loadChats(userId)).then(() => {\r\n      checkIfChatExist()\r\n        .then((bool) => {\r\n          if (params.userId === loggedInUser._id) return\r\n          setIsUserChatExist(bool)\r\n          openChat()\r\n        })\r\n        .catch((bool) => {\r\n          if (params.userId === loggedInUser._id) return\r\n          setIsUserChatExist(bool)\r\n          openChat()\r\n        })\r\n    })\r\n  }, [loggedInUser, params.userId, isUserChatExist])\r\n\r\n  useEffect(() => {\r\n    return async () => {\r\n      await updateLastSeenLoggedUser()\r\n      dispatch(setUnreadActivitiesIds())\r\n    }\r\n  }, [])\r\n\r\n  const updateLastSeenLoggedUser = async () => {\r\n    const lastSeenMsgs = new Date().getTime()\r\n    await dispatch(updateUser({ ...loggedInUser, lastSeenMsgs }))\r\n  }\r\n\r\n  if (!chats)\r\n    return (\r\n      <div className=\"message-page\">\r\n        <div className=\"gif-container\">\r\n          <img className=\"loading-gif\" src={loadingGif} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  return (\r\n    <section className=\"message-page\">\r\n      <Messaging\r\n        chats={chats}\r\n        messagesToShow={messagesToShow}\r\n        setMessagesToShow={setMessagesToShow}\r\n        chooseenChatId={chooseenChatId}\r\n        setChooseenChatId={setChooseenChatId}\r\n        chatWith={chatWith}\r\n        setChatWith={setChatWith}\r\n        getTheNotLoggedUserChat={getTheNotLoggedUserChat}\r\n        setTheNotLoggedUserChat={setTheNotLoggedUserChat}\r\n        theNotLoggedUserChat={theNotLoggedUserChat}\r\n        onSendMsg={onSendMsg}\r\n      />\r\n      <div className=\"right-side-message\">\r\n        <p>This ad could be yours</p>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Message\r\n","export const utilService = {\r\n  makeId,\r\n  debounce,\r\n  getRandomInt,\r\n  getRandomColor,\r\n  getLoremIpsum,\r\n  loadFromStorage,\r\n  saveToStorage,\r\n  loadFromSessionStorage,\r\n  saveToSessionStorage,\r\n  delay,\r\n}\r\nfunction makeId(length = 5) {\r\n  var txt = ''\r\n  var possible =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n  for (var i = 0; i < length; i++) {\r\n    txt += possible.charAt(Math.floor(Math.random() * possible.length))\r\n  }\r\n  return txt\r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(resolve, ms)\r\n  })\r\n}\r\n\r\nfunction debounce(func, wait) {\r\n  let timeout\r\n\r\n  return function executedFunction(...args) {\r\n    //rest-makes the args to an array\r\n    const later = () => {\r\n      clearTimeout(timeout)\r\n      func(...args) //spread-from array to vars\r\n    }\r\n\r\n    clearTimeout(timeout)\r\n    timeout = setTimeout(later, wait)\r\n  }\r\n}\r\n\r\nfunction getRandomColor() {\r\n  var color = '#'\r\n  for (var i = 0; i < 6; i++) {\r\n    color += Math.floor(Math.random() * 10)\r\n  }\r\n  return color\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n  min = Math.ceil(min)\r\n  max = Math.floor(max)\r\n  return Math.floor(Math.random() * (max - min) + min) //The maximum is exclusive and the minimum is inclusive\r\n}\r\n\r\nfunction getLoremIpsum(length = 5) {\r\n  const words = [\r\n    'The sky',\r\n    'above',\r\n    'the port',\r\n    'was',\r\n    'the color of television',\r\n    'tuned',\r\n    'to',\r\n    'a dead channel',\r\n    '.',\r\n    'All',\r\n    'this happened',\r\n    'more or less',\r\n    '.',\r\n    'I',\r\n    'had',\r\n    'the story',\r\n    'bit by bit',\r\n    'from various people',\r\n    'and',\r\n    'as generally',\r\n    'happens',\r\n    'in such cases',\r\n    'each time',\r\n    'it',\r\n    'was',\r\n    'a different story',\r\n    '.',\r\n    'It',\r\n    'was',\r\n    'a pleasure',\r\n    'to',\r\n    'burn',\r\n  ]\r\n  let sentence = ''\r\n  while (length > 0) {\r\n    sentence += words[getRandomInt(0, words.length - 1)] + ' '\r\n    length--\r\n  }\r\n  sentence += '.'\r\n  return sentence.trim()\r\n}\r\n\r\nfunction loadFromStorage(key) {\r\n  var val = localStorage.getItem(key)\r\n  return val ? JSON.parse(val) : null\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n  localStorage[key] = JSON.stringify(val)\r\n}\r\n\r\nfunction loadFromSessionStorage(key) {\r\n  var val = sessionStorage.getItem(key)\r\n  return val ? JSON.parse(val) : null\r\n}\r\n\r\nfunction saveToSessionStorage(key, val) {\r\n  sessionStorage[key] = JSON.stringify(val)\r\n}\r\n","export default function dateParser(date) {\n  const parsed = new Date(date);\n\n  if (!Number.isNaN(parsed.valueOf())) {\n    return parsed;\n  }\n\n  const parts = String(date).match(/\\d+/g);\n\n  if (parts == null || parts.length <= 2) {\n    return parsed;\n  } else {\n    const [firstP, secondP, ...restPs] = parts.map(x => parseInt(x));\n    const correctedParts = [firstP, secondP - 1, ...restPs];\n    const isoDate = new Date(Date.UTC(...correctedParts));\n    return isoDate;\n  }\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","export default function defaultFormatter(value, _unit, suffix) {\n  const unit = value !== 1 ? _unit + 's' : _unit;\n  return value + ' ' + unit + ' ' + suffix;\n}","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport dateParser from './dateParser';\nimport defaultFormatter from './defaultFormatter';\n// Just some simple constants for readability\nconst MINUTE = 60;\nconst HOUR = MINUTE * 60;\nconst DAY = HOUR * 24;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\nexport default function TimeAgo({\n  date,\n  formatter = defaultFormatter,\n  component = 'time',\n  live = true,\n  minPeriod = 0,\n  maxPeriod = WEEK,\n  title,\n  now = () => Date.now(),\n  ...passDownProps\n}) {\n  const [timeNow, setTimeNow] = useState(now());\n  useEffect(() => {\n    if (!live) {\n      return;\n    }\n\n    const tick = () => {\n      const then = dateParser(date).valueOf();\n\n      if (!then) {\n        console.warn('[react-timeago] Invalid Date provided');\n        return 0;\n      }\n\n      const seconds = Math.round(Math.abs(timeNow - then) / 1000);\n      const unboundPeriod = seconds < MINUTE ? 1000 : seconds < HOUR ? 1000 * MINUTE : seconds < DAY ? 1000 * HOUR : 1000 * WEEK;\n      const period = Math.min(Math.max(unboundPeriod, minPeriod * 1000), maxPeriod * 1000);\n\n      if (period) {\n        return setTimeout(() => {\n          setTimeNow(now());\n        }, period);\n      }\n\n      return 0;\n    };\n\n    const timeoutId = tick();\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, [date, live, maxPeriod, minPeriod, now, timeNow]);\n  const Komponent = component;\n  const then = dateParser(date).valueOf();\n\n  if (!then) {\n    return null;\n  }\n\n  const seconds = Math.round(Math.abs(timeNow - then) / 1000);\n  const suffix = then < timeNow ? 'ago' : 'from now';\n  const [value, unit] = seconds < MINUTE ? [Math.round(seconds), 'second'] : seconds < HOUR ? [Math.round(seconds / MINUTE), 'minute'] : seconds < DAY ? [Math.round(seconds / HOUR), 'hour'] : seconds < WEEK ? [Math.round(seconds / DAY), 'day'] : seconds < MONTH ? [Math.round(seconds / WEEK), 'week'] : seconds < YEAR ? [Math.round(seconds / MONTH), 'month'] : [Math.round(seconds / YEAR), 'year'];\n  const passDownTitle = typeof title === 'undefined' ? typeof date === 'string' ? date : dateParser(date).toISOString().substr(0, 16).replace('T', ' ') : title;\n  const spreadProps = Komponent === 'time' ? { ...passDownProps,\n    dateTime: dateParser(date).toISOString()\n  } : passDownProps;\n  const nextFormatter = defaultFormatter.bind(null, value, unit, suffix);\n  return /*#__PURE__*/React.createElement(Komponent, _extends({}, spreadProps, {\n    title: passDownTitle\n  }), formatter(value, unit, suffix, then, nextFormatter, now));\n}"],"names":["destroyObserver","e","t","current","element","observer","disconnect","prevWidth","prevHeight","elementLines","window","getComputedStyle","parseInt","height","lineHeight","fontSize","Math","ceil","defaultOptions","snipText","r","n","options","method","i","s","l","style","display","webkitLineClamp","webkitBoxOrient","overflow","textContent","fullText","lines","unprocessed","processed","midWord","forEach","split","length","ellipsis","trim","snipTextJS","clientWidth","clientHeight","snipTextCSS","useSnip","useRef","useLayoutEffect","CSS","supports","getOptions","ResizeObserver","observe","addObserver","ReactSnip","children","Children","isValidElement","React","ref","props","cloneElement","MsgPreview","chat","chats","setMessagesToShow","setChatWith","chooseenChatId","chatWith","setChooseenChatId","getTheNotLoggedUserChat","useState","theNotLoggedUserChat","setTheNotLoggedUserChat","unreadMsgsCount","setUnreadMsgsCount","unreadMessages","useSelector","state","activityModule","lastMsg","messages","txt","dateToShow","Date","createdAt","slicedDate","toLocaleDateString","slice","loadNotLoggedUser","user","useEffect","countMsgs","chatId","_id","getUnreadCountMsgs","isChatChooseen","containerStyle","className","onClick","src","imgUrl","alt","fullname","title","loadingGif","ListMsg","chatsToShow","setChatsToShow","field","setField","handleChange","target","name","value","type","setFilter","regex","RegExp","filteredChats","filter","test","users","icon","onChange","id","placeholder","map","ThreadMsgPreview","msg","userMsg","setUserMsg","history","useHistory","loadUserMsg","userService","userId","push","loadingCircle","date","ThreadMsgList","messagesToShow","SendMessageForm","onSendMsg","newMsg","setNewMsg","prevCred","onSubmit","ev","preventDefault","elInput","focus","required","MessageThread","scrollToBottom","msgsContainer","document","querySelector","scrollTop","scrollHeight","Messaging","useChat","loggedInUser","params","dispatch","useDispatch","undefined","isUserChatExist","setIsUserChatExist","isNewChat","setIsNewChat","findChat","find","userId2","openChat","chatToShow","newChat","utilService","getTime","addTempChat","checkIfChatExist","Promise","resolve","reject","isChatExist","some","createNewMsg","chatIdx","findIndex","chatToUpdate","removeTempChat","saveChat","then","savedChat","newActivity","createdBy","createdTo","saveActivity","useParams","userModule","chatModule","setCurrPage","loadChats","bool","catch","updateLastSeenLoggedUser","setUnreadActivitiesIds","lastSeenMsgs","updateUser","makeId","possible","charAt","floor","random","debounce","func","wait","timeout","args","later","clearTimeout","setTimeout","getRandomInt","getRandomColor","color","getLoremIpsum","words","sentence","loadFromStorage","key","val","localStorage","getItem","JSON","parse","saveToStorage","stringify","loadFromSessionStorage","sessionStorage","saveToSessionStorage","delay","ms","min","max","dateParser","parsed","Number","isNaN","valueOf","parts","String","match","arr","x","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","firstP","secondP","restPs","correctedParts","UTC","defaultFormatter","_unit","suffix","_extends","Object","assign","bind","arguments","source","prototype","hasOwnProperty","call","apply","this","HOUR","MINUTE","DAY","WEEK","MONTH","YEAR","TimeAgo","formatter","component","live","minPeriod","maxPeriod","now","passDownProps","timeNow","setTimeNow","timeoutId","console","warn","seconds","round","abs","unboundPeriod","period","tick","Komponent","unit","passDownTitle","toISOString","substr","replace","spreadProps","dateTime","nextFormatter"],"sourceRoot":""}