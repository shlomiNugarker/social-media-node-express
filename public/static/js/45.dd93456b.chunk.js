"use strict";(self.webpackChunksocial_network_app=self.webpackChunksocial_network_app||[]).push([[45],{4045:(e,n,s)=>{s.r(n),s.d(n,{default:()=>v});var o=s(2791),i=s(9434),r=s(8931),t=s(1363),l=s(6581),a=s(1523),c=s(5478),d=s(4029),u=s(184);function h(e){var n;let{user:s}=e;const r=(0,i.I0)(),[t,l]=(0,o.useState)(!1),{loggedInUser:h}=(0,i.v9)((e=>e.userModule)),f=(0,o.useCallback)((()=>{var e;const n=null===h||void 0===h||null===(e=h.connections)||void 0===e?void 0:e.some((e=>(null===e||void 0===e?void 0:e.userId)===(null===s||void 0===s?void 0:s._id)));l(n)}),[h,s]);(0,o.useEffect)((()=>(f(),()=>{})),[f]);if(s&&!t)return(0,u.jsxs)("li",{className:"connection-preview",children:[(0,u.jsxs)(a.rU,{to:"/main/profile/".concat(null===s||void 0===s?void 0:s._id),children:[(0,u.jsx)("div",{className:"bg",children:s.imgUrl&&(0,u.jsx)("img",{src:s.imgUrl,alt:"",className:"img-profile"})||(0,u.jsx)("img",{src:c,alt:""})}),(0,u.jsx)("div",{className:"fullname",children:(0,u.jsx)("p",{children:s.fullname})}),(0,u.jsx)("div",{className:"profession",children:(0,u.jsx)("p",{children:s.profession})})]}),(0,u.jsx)("div",{className:"followers-count",children:(0,u.jsxs)("p",{children:[" ",null===(n=s.connections)||void 0===n?void 0:n.length," conections"]})}),(0,u.jsx)("div",{className:"btn-container",onClick:async()=>{if(s)if(!0===t){const e=JSON.parse(JSON.stringify(s)),n=JSON.parse(JSON.stringify(h));n.connections=n.connections.filter((n=>n.userId!==e._id)),e.connections=e.connections.filter((e=>e.userId!==n._id)),r((0,d.Nq)(n)),r((0,d.Nq)(e))}else if(!1===t){const e=JSON.parse(JSON.stringify(s)),n=JSON.parse(JSON.stringify(h));e.connections.unshift({userId:n._id,fullname:n.fullname}),n.connections.push({userId:e._id,fullname:e.fullname}),r((0,d.Nq)(n)),r((0,d.Nq)(e))}},children:(0,u.jsx)("button",{children:t?"Disconnect":"Connect"})})]})}function f(e){let{users:n}=e;return(0,u.jsx)("ul",{className:"connection-list",children:n.map((e=>(0,u.jsx)(h,{user:e},l.Y.makeId())))})}var m=s(262),g=s(9722);const v=function(){var e,n;const s=(0,i.I0)();let l=(0,r.k6)();const{users:a}=(0,i.v9)((e=>e.userModule)),{loggedInUser:c}=(0,i.v9)((e=>e.userModule));return(0,o.useEffect)((()=>(s((0,d.Rf)()),s((0,m.rd)("mynetwork")),()=>{s((0,d.HM)(null))})),[s]),a?(0,u.jsxs)("section",{className:"my-network-page",children:[(0,u.jsx)("div",{className:"left",children:(0,u.jsxs)("div",{className:"manage-network",children:[(0,u.jsx)("div",{children:(0,u.jsx)("h3",{children:"Manage my network"})}),(0,u.jsx)("ul",{children:(0,u.jsx)("li",{children:(0,u.jsxs)("button",{onClick:()=>l.push("/main/connections"),children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"logo",children:(0,u.jsx)(t.G,{icon:"fa-solid fa-user-group"})}),(0,u.jsx)("span",{className:"txt",children:(0,u.jsx)("p",{children:"Connections"})})]}),(0,u.jsx)("span",{children:(0,u.jsx)("p",{children:0===(null===(e=c.connections)||void 0===e?void 0:e.length)?0:null===(n=c.connections)||void 0===n?void 0:n.length})})]})})})]})}),(0,u.jsx)("div",{className:"right",children:(0,u.jsxs)("div",{className:"recommended",children:[(0,u.jsx)("div",{children:(0,u.jsx)("h3",{children:"Recommended for you"})}),(0,u.jsx)(f,{users:a})]})})]}):(0,u.jsx)("section",{className:"network",children:(0,u.jsx)("span",{className:"gif-container",children:(0,u.jsx)("img",{className:"loading-gif",src:g,alt:""})})})}},6581:(e,n,s)=>{s.d(n,{Y:()=>o});const o={makeId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;for(var n="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)n+=s.charAt(Math.floor(Math.random()*s.length));return n},debounce:function(e,n){let s;return function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];const t=()=>{clearTimeout(s),e(...i)};clearTimeout(s),s=setTimeout(t,n)}},getRandomInt:i,getRandomColor:function(){for(var e="#",n=0;n<6;n++)e+=Math.floor(10*Math.random());return e},getLoremIpsum:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const n=["The sky","above","the port","was","the color of television","tuned","to","a dead channel",".","All","this happened","more or less",".","I","had","the story","bit by bit","from various people","and","as generally","happens","in such cases","each time","it","was","a different story",".","It","was","a pleasure","to","burn"];let s="";for(;e>0;)s+=n[i(0,n.length-1)]+" ",e--;return s+=".",s.trim()},loadFromStorage:function(e){var n=localStorage.getItem(e);return n?JSON.parse(n):null},saveToStorage:function(e,n){localStorage[e]=JSON.stringify(n)},loadFromSessionStorage:function(e){var n=sessionStorage.getItem(e);return n?JSON.parse(n):null},saveToSessionStorage:function(e,n){sessionStorage[e]=JSON.stringify(n)},delay:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((n=>{setTimeout(n,e)}))}};function i(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e)+e)}},5478:(e,n,s)=>{e.exports=s.p+"static/media/loading-circle.b8e847dbc0e0c5799a06.gif"}}]);
//# sourceMappingURL=45.dd93456b.chunk.js.map